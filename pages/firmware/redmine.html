<div class="redmine-container">
  <h2>ğŸ« Create Redmine Ticket</h2>

  <!-- 1. Choose your product -->
  <div class="form-section">
    <label class="form-label">
      <span class="label-text">Choose your product</span>
      <span class="required">*</span>
    </label>

    <select id="productSelect" class="form-select product-select-scrollable"
      onchange="updateFirmwarePath(); updateCreateButton();">
      <option value="">Please select a product...</option>
    </select> <input type="file" id="excelFileInput" accept=".xlsx,.xls" style="display: none;"
      onchange="handleExcelUpload(event)">

    <!-- <small class="form-hint">ğŸ’¡ ç”¢å“åˆ—è¡¨å¾ datasheet/Router_List.xlsx å‹•æ…‹è¼‰å…¥ï¼Œæ¯æ¬¡åˆ‡æ› Tab éƒ½æœƒé‡æ–°è®€å–æœ€æ–°è³‡æ–™</small> -->
  </div>

  <!-- 2. Firmware -->
  <div class="form-section">
    <label class="form-label">
      <span class="label-text">Firmware Path</span>
      <span class="required">*</span>
    </label>

    <div class="firmware-section">
      <div class="firmware-container">
        <div class="firmware-path-input">
          <input id="firmwarePath" class="form-input" placeholder="" readonly
            oninput="updatePreview(); updateCreateButton();" onchange="updatePreview(); updateCreateButton();" />
        </div>
        <div class="firmware-buttons-row" style="margin-top: 8px;">
          <button type="button" class="btn btn-secondary" onclick="toggleEditMode()" title="Toggle edit mode"
            id="editModeBtn">
            âœï¸ Edit
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 3. Select Redmine Tag -->
  <div class="form-section">
    <label class="form-label">
      <span class="label-text">Select Redmine Tag</span>
      <span class="required">*</span>
    </label>
    <select id="redmineTagSelect" class="form-select" onchange="updatePreview(); updateCreateButton();">
      <option value="">Please select a tag...</option>
      <option value="test-request">Test_Request</option>
      <option value="build-request">Build_Request</option>
      <option value="signature-test-request">Signature_test_request</option>
      <option value="factory-regression">Factory_Regression</option>
      <option value="standard-regression">Standard_Regression</option>
      <option value="repeater-regression">Repeater_Regression</option>
      <option value="batch-regression">Batch_Regression</option>
      <option value="expert-wifi-regression">Expert_WiFi_Regression</option>
    </select>
  </div>

  <!-- Preview Information -->
  <div id="previewSection" class="preview-section hidden">
    <h3>ğŸ“‹ Preview Information</h3>
    <div class="preview-content">
      <div class="preview-item">
        <strong>Project_List:</strong>
        <span id="previewRedmineProject">-</span>
      </div>
      <div class="preview-item">
        <strong>Tag:</strong>
        <span id="previewTag">-</span>
      </div>
      <div class="preview-item">
        <strong>ä¸»æ—¨:</strong>
        <span id="previewSubject">-</span>
        <button type="button" class="copy-btn" onclick="copyToClipboard('previewSubject')" title="Copy to clipboard">
          ğŸ“‹ Copy
        </button>
      </div>
      <div class="preview-item">
        <strong>æ¦‚è¿°:</strong>
        <span id="previewFirmware">Firmware: -</span>
        <button type="button" class="copy-btn" onclick="copyToClipboard('previewFirmware')" title="Copy to clipboard">
          ğŸ“‹ Copy
        </button>
      </div>
      <div class="preview-item">
        <strong>è¢«åˆ†æ´¾è€…:</strong>
        <span>SQ</span>
      </div>

    </div>
  </div>

  <!-- 4. Action Buttons -->
  <div class="button-group">
    <button id="createBtn" class="btn btn-primary" onclick="createRedmineTicket()" disabled>
      ğŸš€ Create Redmine Ticket
    </button>
    <button class="btn btn-warning" onclick="resetForm()">
      ğŸ”„ Reset
    </button>
  </div>
</div>